(()=>{"use strict";var t={390:(t,e,a)=>{a.r(e)},0:(t,e,a)=>{Object.defineProperty(e,"__esModule",{value:!0});const n=a(382);e.default=class{constructor(t){var e;this.id=t.id,this.title=t.title,this.preview=null!==(e=t.preview)&&void 0!==e?e:n.default.Default,this.description=t.description,this.$button=$(this._button())}_button(){const t=$("<button />").append($("<p />").text(this.title)),e=$("<div />").appendTo(t);switch(this.preview){case n.default.Blank:t.addClass("is-blank");break;case n.default.Default:t.addClass("is-default");break;default:e.append($("<img />").attr("src",this.preview))}return null!==this.description&&t.append($("<p />").text(this.description)),t}}},382:(t,e)=>{var a;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.Blank=0]="Blank",t[t.Default=1]="Default"}(a||(a={})),e.default=a}},e={};function a(n){var s=e[n];if(void 0!==s)return s.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,a),o.exports}a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const t=a(0),e=a(382);a(390),void 0===window.ContentTemplates&&(window.ContentTemplates={}),window.ContentTemplates.Modal=class{constructor(a){this.elementId=a.elementId,this.contentTemplates=[new t.default({title:Craft.t("content-templates","Blank"),preview:e.default.Blank,description:Craft.t("content-templates","Start off with a clean slate.")})],this.contentTemplates.push(...a.contentTemplates.map((e=>new t.default(e))));const n=$('<div class="modal ct_modal" />').append($('<div class="spinner big">'));this.garnishModal=new Garnish.Modal(n);const s=$('<div class="body" />').appendTo(n).append($('<h2 class="ct_heading" />').text(Craft.t("content-templates","Choose a template"))),o=$('<div class="ct_container" />').appendTo(s);this.contentTemplates.forEach((t=>{$('<div class="ct_template" />').append(t.$button).appendTo(o),t.$button.on("activate",(e=>{if(void 0===t.id)this.garnishModal.hide();else{n.addClass("applying");const e={elementId:this.elementId,contentTemplateId:t.id};Craft.sendActionRequest("POST","content-templates/cp/apply",{data:e}).then((t=>{window.location.href=t.data.redirect})).catch((t=>{var e;n.removeClass("applying"),Craft.cp.displayError(null!==(e=t.error)&&void 0!==e?e:Craft.t("content-templates","An unknown error occurred."))}))}}))}))}}})()})();
//# sourceMappingURL=modal.js.map